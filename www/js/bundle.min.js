/*!
 * Swagger Parser v4.0.0-beta.2 (October 19th 2017)
 * 
 * https://bigstickcarpet.github.io/swagger-parser
 * 
 * @author  James Messinger (http://jamesmessinger.com)
 * @license MIT
 */
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){function format(e){var r=/(%?)(%([jds]))/g,t=Array.prototype.slice.call(arguments,1);return t.length&&(e=e.replace(r,function(e,r,a,n){var s=t.shift();switch(n){case"s":s=""+s;break;case"d":s=Number(s);break;case"j":s=JSON.stringify(s)}return r?(t.unshift(s),e):s})),t.length&&(e+=" "+t.join(" ")),""+(e=e.replace(/%{2,2}/g,"%"))}module.exports=format},{}],2:[function(require,module,exports){"use strict";function create(e){return function(r,t,o,n){var a=[],c="";"string"==typeof r?(a=slice.call(arguments),r=t=void 0):"string"==typeof t?(a=slice.call(arguments,1),t=void 0):"string"==typeof o&&(a=slice.call(arguments,2)),a.length>0&&(c=module.exports.formatter.apply(null,a)),r&&r.message&&(c+=(c?" \n":"")+r.message);var i=new e(c);return extendError(i,r),extendToJSON(i),extend(i,t),i}}function extendError(e,r){extendStack(e,r),extend(e,r)}function extendToJSON(e){e.toJSON=errorToJSON,e.inspect=errorToString}function extend(e,r){if(r&&"object"==typeof r)for(var t=Object.keys(r),o=0;o<t.length;o++){var n=t[o];if(!(protectedProperties.indexOf(n)>=0))try{e[n]=r[n]}catch(e){}}}function errorToJSON(){var e={},r=Object.keys(this);r=r.concat(errorPrototypeProperties);for(var t=0;t<r.length;t++){var o=r[t],n=this[o],a=typeof n;"undefined"!==a&&"function"!==a&&(e[o]=n)}return e}function errorToString(){return JSON.stringify(this,null,2).replace(/\\n/g,"\n")}function extendStack(e,r){hasLazyStack(e)?r?lazyJoinStacks(e,r):lazyPopStack(e):e.stack=r?joinStacks(e.stack,r.stack):popStack(e.stack)}function joinStacks(e,r){return e=popStack(e),e&&r?e+"\n\n"+r:e||r}function popStack(e){if(e){var r=e.split("\n");if(r.length<2)return e;for(var t=0;t<r.length;t++){if(r[t].indexOf("onoFactory")>=0)return r.splice(t,1),r.join("\n")}return e}}function hasLazyStack(e){if(!supportsLazyStack)return!1;var r=Object.getOwnPropertyDescriptor(e,"stack");return!!r&&"function"==typeof r.get}function lazyJoinStacks(e,r){var t=Object.getOwnPropertyDescriptor(e,"stack");Object.defineProperty(e,"stack",{get:function(){return joinStacks(t.get.apply(e),r.stack)},enumerable:!1,configurable:!0})}function lazyPopStack(e){var r=Object.getOwnPropertyDescriptor(e,"stack");Object.defineProperty(e,"stack",{get:function(){return popStack(r.get.apply(e))},enumerable:!1,configurable:!0})}var format=require("format-util"),slice=Array.prototype.slice,protectedProperties=["name","message","stack"],errorPrototypeProperties=["name","message","description","number","code","fileName","lineNumber","columnNumber","sourceURL","line","column","stack"];module.exports=create(Error),module.exports.error=create(Error),module.exports.eval=create(EvalError),module.exports.range=create(RangeError),module.exports.reference=create(ReferenceError),module.exports.syntax=create(SyntaxError),module.exports.type=create(TypeError),module.exports.uri=create(URIError),module.exports.formatter=format;var supportsLazyStack=function(){return!(!Object.getOwnPropertyDescriptor||!Object.defineProperty||"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent))}()},{"format-util":1}],3:[function(require,module,exports){"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;y<p;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)}},{}],4:[function(require,module,exports){"use strict";function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?map(r[n],function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e}},{}],5:[function(require,module,exports){"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode")},{"./decode":3,"./encode":4}],6:[function(require,module,exports){"use strict";var debug="localhost"===location.hostname;exports.init=function(){debug||(ga("create","UA-68102273-1","auto"),ga("send","pageview"))},exports.trackEvent=function(e,o,t,n){debug?console.log("Reporting an event to Google Analytics: ",e,o,t,n):ga("send","event",e,o,t,n)},exports.trackError=function(e){debug?console.error("Reporting an error to Google Analytics: ",e):ga("send","exception",{exDescription:e.message})}},{}],7:[function(require,module,exports){"use strict";function onChange(e,a){var t=e.parent(".dropdown");e.find("a").on("click",function(e){e.stopPropagation()}),a(),t.on("hidden.bs.dropdown",a),t.on("shown.bs.dropdown",function(){analytics.trackEvent("options","shown",e.attr("id"))})}function setAllowLabel(){var e=getCheckedAndUnchecked(form.allow.json,form.allow.yaml,form.allow.empty,form.allow.unknown);switch(e.checked.length){case 0:form.allow.label.text("No file types allowed");break;case 1:form.allow.label.text("Only allow "+e.checked[0]+" files");break;case 2:form.allow.label.text("Allow "+e.checked[0]+" and "+e.checked[1]);break;case 3:form.allow.label.text("Don't allow "+e.unchecked[0]+" files");break;case 4:form.allow.label.text("Allow all file types")}}function setRefsLabel(){var e=getCheckedAndUnchecked(form.refs.internal,form.refs.external,form.refs.circular);switch(e.checked.length){case 0:form.refs.label.text("No $refs allowed");break;case 1:form.refs.label.text("Only follow "+e.checked[0]+" $refs");break;case 2:form.refs.label.text("Don't follow "+e.unchecked[0]+" $refs");break;case 3:form.refs.label.text("Follow all $refs")}}function setValidateLabel(){var e=getCheckedAndUnchecked(form.validate.schema,form.validate.spec);switch(e.checked.length){case 0:form.validate.label.text("Don't validate anything");break;case 1:form.validate.label.text("Don't validate Swagger "+e.checked[0]);break;case 2:form.validate.label.text("Validate everything")}}function setCacheLabel(){var e=form.cache.parse(form.cache.http.val());e===form.cache.parse(form.cache.https.val())?e%60?form.cache.label.text("Cache for "+e+" seconds"):form.cache.label.text("Cache for "+e/60+" minutes"):form.cache.label.text("Customized caching")}function setButtonLabel(e){form.method.button.val(e.toLowerCase()),form.method.button.text(e[0].toUpperCase()+e.substr(1)+" it!")}function trackCheckbox(e){e.on("change",function(){var a=e.is(":checked")?1:0;analytics.trackEvent("options","changed",e.attr("name"),a)})}function trackTextbox(e){e.on("blur",function(){var a=form.cache.parse(e.val());analytics.trackEvent("options","changed",e.attr("name"),a)})}function trackButtonLabel(e){var a=["","parse","resolve","bundle","dereference","validate"].indexOf(e);analytics.trackEvent("options","changed","method",a)}function getCheckedAndUnchecked(e){for(var a=[],t=[],o=0;o<arguments.length;o++){var c=arguments[o];c.is(":checked")?a.push(c.data("value")):t.push(c.data("value"))}return{checked:a,unchecked:t}}var form=require("./form"),analytics=require("./analytics");exports.init=function(){onChange(form.allow.menu,setAllowLabel),onChange(form.refs.menu,setRefsLabel),onChange(form.validate.menu,setValidateLabel),onChange(form.cache.menu,setCacheLabel),trackCheckbox(form.allow.json),trackCheckbox(form.allow.yaml),trackCheckbox(form.allow.empty),trackCheckbox(form.allow.unknown),trackCheckbox(form.refs.internal),trackCheckbox(form.refs.external),trackCheckbox(form.refs.circular),trackCheckbox(form.validate.schema),trackCheckbox(form.validate.spec),trackTextbox(form.cache.http),trackTextbox(form.cache.https),setButtonLabel(form.method.button.val()),form.method.menu.find("a").on("click",function(e){form.method.menu.dropdown("toggle"),e.stopPropagation();var a=$(this).data("value");setButtonLabel(a),trackButtonLabel(a)})}},{"./analytics":6,"./form":9}],8:[function(require,module,exports){"use strict";function getShortTitle(e){var t=e.lastIndexOf("/");return-1!==t&&(e=e.substr(t+1)),e.length>15&&(e=e.substr(0,10)+"..."),e}function showResults(){var e=exports.results;setTimeout(function(){e[0].scrollIntoView(),e.addClass("animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.removeClass("animated")})})}function toText(e){if(e instanceof Error)return{isJSON:!1,text:e.message+"\n\n"+e.stack};try{return{isJSON:!0,text:JSON.stringify(e,null,2)}}catch(e){return{isJSON:!1,text:"This API is valid, but it cannot be shown because it contains circular references\n\n"+e.stack}}}var form=require("./form"),ono=require("ono"),ACE_THEME="ace/theme/terminal";exports.init=function(){this.sampleAPI=form.sampleAPI=ace.edit("sample-api"),form.sampleAPI.setTheme(ACE_THEME);var e=form.sampleAPI.getSession();e.setMode("ace/mode/yaml"),e.setTabSize(2),this.results=$("#results"),this.tabs=this.results.find(".nav-tabs"),this.panes=this.results.find(".tab-content")},exports.clearResults=function(){this.results.removeClass("error animated").addClass("hidden"),this.tabs.children().remove(),this.panes.children().remove()},exports.showResult=function(e,t){this.results.removeClass("hidden"),this.addResult(e||"Sample API",t),showResults()},exports.showError=function(e){this.results.removeClass("hidden").addClass("error"),this.addResult("Error!",e),showResults()},exports.addResult=function(e,t){var s=this.tabs.children().length,i="results-tab-"+s+"-title",a="results-"+s,n=0===s?"active":"";this.tabs.append('<li id="results-tab-'+s+'" class="'+n+'" role="presentation"> <a id="'+i+'" href="#results-pane-'+s+'" role="tab" aria-controls="results-pane-'+s+'" data-toggle="tab"></a></li>'),this.panes.append('<div id="results-pane-'+s+'" class="tab-pane '+n+'" role="tabpanel">  <pre id="'+a+'" class="editor"></pre></div>');var r=getShortTitle(e);this.tabs.find("#"+i).text(r).attr("title",e),t=toText(t),this.panes.find("#"+a).text(t.text);var o=ace.edit(a);o.setTheme(ACE_THEME),o.session.setOption("useWorker",!1),t.isJSON&&o.getSession().setMode("ace/mode/json"),o.setReadOnly(!0)}},{"./form":9,ono:2}],9:[function(require,module,exports){"use strict";function parseCacheValue(e){return e=parseInt(e),isNaN(e)||!isFinite(e)||e<1?300:e}exports.init=function(){this.form=$("#swagger-parser-form"),this.allow={label:this.form.find("#allow-label"),menu:this.form.find("#allow-menu"),json:this.form.find("input[name=allow-json]"),yaml:this.form.find("input[name=allow-yaml]"),empty:this.form.find("input[name=allow-empty]"),unknown:this.form.find("input[name=allow-unknown]")},this.refs={label:this.form.find("#refs-label"),menu:this.form.find("#refs-menu"),internal:this.form.find("input[name=refs-internal]"),external:this.form.find("input[name=refs-external]"),circular:this.form.find("input[name=refs-circular]")},this.validate={label:this.form.find("#validate-label"),menu:this.form.find("#validate-menu"),schema:this.form.find("input[name=validate-schema]"),spec:this.form.find("input[name=validate-spec]")},this.cache={label:this.form.find("#cache-label"),menu:this.form.find("#cache-menu"),http:this.form.find("input[name=cache-http]"),https:this.form.find("input[name=cache-https]"),parse:parseCacheValue},this.tabs={yourAPI:this.form.find("#your-api-tab"),sampleAPI:this.form.find("#sample-api-tab")},this.method={button:this.form.find("button[name=method]"),menu:this.form.find("#method-menu")},this.url=this.form.find("input[name=url]"),this.bookmark=this.form.find("#bookmark")},exports.getOptions=function(){return{allow:{json:this.allow.json.is(":checked"),yaml:this.allow.yaml.is(":checked"),empty:this.allow.empty.is(":checked"),unknown:this.allow.unknown.is(":checked")},$refs:{internal:this.refs.internal.is(":checked"),external:this.refs.external.is(":checked"),circular:this.refs.circular.is(":checked")},validate:{schema:this.validate.schema.is(":checked"),spec:this.validate.spec.is(":checked")},cache:{http:parseCacheValue(this.cache.http.val()),https:parseCacheValue(this.cache.https.val())}}},exports.getAPI=function(){var e=this.url.val();if(e)return e;var t=this.sampleAPI.getValue();if(this.allow.yaml.is(":checked"))return SwaggerParser.YAML.parse(t);if(this.allow.json.is(":checked"))return JSON.parse(t);throw new SyntaxError("Unable to parse the API. Neither YAML nor JSON are allowed.")}},{}],10:[function(require,module,exports){"use strict";var form=require("./form"),querystring=require("./querystring"),dropdowns=require("./dropdowns"),editors=require("./editors"),parser=require("./parser"),analytics=require("./analytics");$(function(){form.init(),querystring.init(),dropdowns.init(),editors.init(),parser.init(),analytics.init()})},{"./analytics":6,"./dropdowns":7,"./editors":8,"./form":9,"./parser":11,"./querystring":12}],11:[function(require,module,exports){"use strict";function parseSwagger(){try{editors.clearResults(),parser=parser||new SwaggerParser;var r=form.getOptions(),e=form.method.button.val(),t=form.getAPI();parser[e](t,r).then(function(){var r=parser.$refs.values();Object.keys(r).forEach(function(e){editors.showResult(e,r[e])})}).catch(function(r){editors.showError(ono(r)),analytics.trackError(r)}),counters[e]++,analytics.trackEvent("button","click",e,counters[e])}catch(r){editors.showError(ono(r)),analytics.trackError(r)}}var form=require("./form"),editors=require("./editors"),analytics=require("./analytics"),ono=require("ono"),parser=null,counters={parse:0,resolve:0,bundle:0,dereference:0,validate:0};exports.init=function(){form.form.on("submit",function(r){r.preventDefault(),parseSwagger()}),$("#clear").on("click",function(){parser=null,editors.clearResults(),analytics.trackEvent("cache","clear")})}},{"./analytics":6,"./editors":8,"./form":9,ono:2}],12:[function(require,module,exports){"use strict";function setFormFields(){var e=querystring.parse(window.location.search.substr(1));setCheckbox(form.allow.json,e["allow-json"]),setCheckbox(form.allow.yaml,e["allow-yaml"]),setCheckbox(form.allow.empty,e["allow-empty"]),setCheckbox(form.allow.unknown,e["allow-unknown"]),setCheckbox(form.refs.internal,e["refs-internal"]),setCheckbox(form.refs.external,e["refs-external"]),setCheckbox(form.refs.circular,e["refs-circular"]),setCheckbox(form.validate.schema,e["validate-schema"]),setCheckbox(form.validate.spec,e["validate-spec"]),setNumber(form.cache.http,e["cache-http"]),setNumber(form.cache.https,e["cache-https"]),e.url&&(form.url.val(e.url),form.tabs.yourAPI.tab("show")),e.method&&(e.method=e.method.toLowerCase(),-1!==["parse","resolve","bundle","dereference","validate"].indexOf(e.method)&&form.method.button.val(e.method))}function setCheckbox(e,o){o&&"true"!==o&&"on"!==o||(o="yes"),e.val([o])}function setNumber(e,o){e.val(form.cache.parse(o))}function setBookmarkURL(){var e={},o=form.getOptions();o.allow.json||(e["allow-json"]="no"),o.allow.yaml||(e["allow-yaml"]="no"),o.allow.empty||(e["allow-empty"]="no"),o.allow.unknown||(e["allow-unknown"]="no"),o.$refs.internal||(e["refs-internal"]="no"),o.$refs.external||(e["refs-external"]="no"),o.$refs.circular||(e["refs-circular"]="no"),o.validate.schema||(e["validate-schema"]="no"),o.validate.spec||(e["validate-spec"]="no"),300===o.cache.http||(e["cache-http"]=o.cache.http),300===o.cache.https||(e["cache-https"]=o.cache.https);var r=form.method.button.val();"validate"===r||(e.method=r);var t=form.url.val();""===t||(e.url=t);var a="?"+querystring.stringify(e);form.bookmark.attr("href",a)}var querystring=require("querystring"),form=require("./form");exports.init=function(){setFormFields(),setBookmarkURL(),form.bookmark.on("click focus mouseenter",setBookmarkURL)}},{"./form":9,querystring:5}]},{},[10]);
//# sourceMappingURL=bundle.min.js.map